<script src="/src/js/bind.min.js"></script>
<script src="/src/js/moment.min.js"></script>


<div class="col-xs-12">
  <div class="col-xs-8 small-padding">
    <div class="form-group">
      <input type="date" class="form-control" id="selectedDayStringTextField" onchange="updateDate()" placeholder="Date">
    </div>
  </div>

  <div class="col-xs-4 small-padding">

    <div class="form-group">
        <a type="button" id="addSeg" href="#" onClick="updateDate()" class="small-padding col-xs-12 btn btn-info">Update</a>
    </div>

  </div>
</div>

<!-- <div class="col-xs-12">
  <h3 style="text-align:center" id="selectedDayStringLabel"></h3>
</div> -->

<script src="/src/js/notie.js"></script>

<script>
function updateDate(){
  notie.alert(1, 'New Date Selected!', 1.5);

  // $scope.selectedDayStringLabel =  moment($('#selectedDayStringTextField').val()).format('MMMM DD YYYY');
  // $scope.selectedDayStringTextField = moment($('#selectedDayStringTextField').val()).format('MMMM DD YYYY');
  //
  // myDoughnutChart.segments[0].value = Math.floor(Math.random() * 200) + 1  ;
  // myDoughnutChart.segments[1].value = Math.floor(Math.random() * 200) + 1  ;
  // myDoughnutChart.segments[2].value = Math.floor(Math.random() * 200) + 1  ;
  //
  // myDoughnutChart.update();

  var url      = window.location.href;     // Returns full URL
  if (url.match('history/list')) {
    Cookies.set('selectedDate',moment($('#selectedDayStringTextField').val()).format())
    window.location = '/history/list/' + Cookies.get('userId')+'/' + Cookies.get('selectedDate')
  }

  if (url.match('history/charts')) {
    Cookies.set('selectedDate',moment($('#selectedDayStringTextField').val()).format())
    window.location = '/history/charts/' + Cookies.get('userId')+'/' + Cookies.get('selectedDate')
  }

}
</script>
